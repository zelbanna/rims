#!/usr/bin/python3
# -*- coding: utf-8 -*-
__author__ = "Zacharias El Banna"
__version__ = "5.0GA"
__status__ = "Production"

from subprocess import call
from os import walk,path
from sys import argv, exit

if len(argv) < 2:
 print(argv[0],"<version>")
 exit(0)
else:
 print("New version [%s]"%(argv[1]))

for root,dirs,files in walk('.'):
 if ".git" in dirs:
  dirs.remove('.git')
 #print "Directory:",root
 for file in files:
  if file[-2:] == 'py':
   print(path.join(root,file))
   call(["sed","-i","s/^__version__.*/__version__ = \"" + argv[1] + "\"/g",path.join(root,file)])
