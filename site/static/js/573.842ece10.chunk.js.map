{"version":3,"file":"static/js/573.842ece10.chunk.js","mappings":"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","sources":["system.jsx"],"sourcesContent":["import React, { Component } from 'react'\nimport { post_call } from './infra/Functions.js';\nimport { RimsContext, Title, Spinner, Article, CodeArticle, ContentReport, ContentList, ContentData } from './infra/UI.jsx';\nimport { HrefButton } from './infra/Buttons.jsx';\nimport { NavBar, NavButton, NavDropDown, NavDropButton, NavInfo, NavReload } from './infra/Navigation.jsx';\n\nimport styles from './infra/ui.module.css';\n\n// ************** Main **************\n//\nexport class Main extends Component {\n constructor(props){\n  super(props)\n  this.state = {navinfo:[], navitems:[], logs:[] }\n }\n\n componentDidMount(){\n  post_call('api/system/inventory',{user_id:this.context.settings.id}).then(result => {\n   Object.assign(this.state,result)\n   this.compileNavItems()\n  })\n }\n\n componentDidUpdate(prevProps){\n  if(prevProps !== this.props)\n   this.compileNavItems();\n }\n\n compileNavItems = () => {\n  const master = (this.context.settings.node === 'master');\n  const admin = (this.context.settings.class === 'admin');\n  const master_admin = (master && admin);\n  this.context.loadNavigation(<NavBar key='system_navbar'>\n   {master_admin && <NavButton key='sys_nav_node' title='Nodes' onClick={() => this.changeImport('node','List')} />}\n   {master_admin && <NavButton key='sys_nav_srv' title='Servers' onClick={() => this.changeImport('server','List')} />}\n   {master && <NavButton key='sys_nav_erd' title='ERD'     onClick={() => window.open('erd.pdf','_blank')} />}\n   {master_admin && <NavButton key='sys_nav_user' title='Users'  onClick={() => this.changeImport('user','List')} />}\n   {master && <NavButton key='sys_nav_ctrl' title='Controls' onClick={() => this.changeContent(<Controls key='system_controls' />)} />}\n   <NavDropDown key='sys_nav_reports' title='Reports'>\n    <NavDropButton key='sys_nav_sys' title='System' onClick={() => this.changeContent(<Report key='system_report' />)} />\n    {admin && <NavDropButton key='sys_nav_act' title='Activities' onClick={() => this.changeImport('activity','Report')} />}\n    {master && <NavDropButton key='sys_nav_resv' title='Reservations' onClick={() => this.changeImport('reservation','Report')} />}\n    {master && <NavDropButton key='sys_nav_dev' title='Devices' onClick={() => this.changeImport('device','Report')} />}\n    {master && <NavDropButton key='sys_nav_dev_sw' title='Software' onClick={() => this.changeImport('device','ReportSoftware')} />}\n    {master && <NavDropButton key='sys_nav_if' title='Interfaces' onClick={() => this.changeImport('interface','Report')} />}\n    {master && <NavDropButton key='sys_nav_inv' title='Inventory' onClick={() => this.changeImport('inventory','Report')} />}\n   </NavDropDown>\n   <NavButton key='sys_nav_logs' title='Logs' onClick={() => this.changeImport('node','LogShow',{node:this.context.settings.node})} />\n   {admin && <NavButton key='sys_nav_rest' title='REST' onClick={() => this.changeContent(<RestList key='rest_list' />)} />}\n   <NavReload key='sys_nav_reload' onClick={() => this.changeContent(null)} />\n   {this.state.navinfo.map((row,idx) => <NavInfo key={'sys_nav_ni_'+idx} title={row} />)}\n  </NavBar>)\n }\n\n changeContent = (elem) => this.setState({content:elem})\n\n changeImport(module,func,args){\n  import('./'+module+'.jsx').then(lib => {\n   var Elem = lib[func];\n   this.setState({content:<Elem key={module+'_'+func} {...args} />})\n  })\n }\n\n render(){\n  return <>{this.state.content}</>\n }\n}\nMain.contextType = RimsContext;\n\n// ************** Report **************\n//\nexport class Report extends Component{\n constructor(props){\n  super(props)\n  this.state = {}\n }\n\n componentDidMount(){\n  post_call('api/system/report').then(result => this.setState({data:Object.keys(result).sort((a,b) => a.localeCompare(b)).map(key => ({info:key,value:result[key]})) }))\n }\n\n listItem = (row) => [row.info,row.value]\n\n render(){\n  return <ContentReport key='sys_cr' header='System Report' thead={['Key','Value']} trows={this.state.data} listItem={this.listItem} />\n }\n}\n\n// ************** RestList **************\n//\nclass RestList extends Component {\n constructor(props){\n  super(props);\n  this.state = {}\n }\n\n componentDidMount(){\n  post_call('api/system/rest_explore')\n   .then((result) => {\n    var apilist = [];\n    result.data.forEach(item => item.functions.forEach(row => apilist.push({api:item.api, function:row})  ) );\n    this.setState({data:apilist});\n   })\n }\n\n listItem = (row) => [row.api,<HrefButton key={'rest_' + row.api} text={row.function} onClick={() => { this.changeContent(<RestInfo key='rest_info' {...row} />)}} />]\n\n render(){\n  return <>\n   <ContentList key='cl' header='REST API' thead={['API','Function']} trows={this.state.data} listItem={this.listItem} />\n   <ContentData key='cda' mountUpdate={(fun) => this.changeContent = fun} />\n  </>\n }\n}\n\n// ************** RestInfo **************\n//\nclass RestInfo extends Component {\n constructor(props){\n  super(props)\n  this.state = {}\n }\n\n componentDidUpdate(prevProps) {\n  if (prevProps !== this.props){\n   post_call('api/system/rest_information',{api:this.props.api, function:this.props.function}).then(result => this.setState(result))\n  }\n }\n\n componentDidMount(){\n  post_call('api/system/rest_information',{api:this.props.api, function:this.props.function}).then(result => this.setState(result))\n }\n\n render() {\n  if (this.state.module && this.state.information) {\n   return(\n    <Article key='ri_art' header={this.props.api}>\n     {this.state.module.join('\\n')}\n     <Title text={this.props.function} />\n     {this.state.information.join('\\n')}\n    </Article>\n   )\n  } else\n   return <Spinner />\n }\n}\n\n// ************************ REST Execute ********************\n//\nclass RestExecute extends Component {\n componentDidMount(){\n  post_call('api/' + this.props.api,this.props.args).then(result => this.setState(result))\n }\n\n render(){\n  return (this.state) ? <CodeArticle key='re_code' header={this.props.text}>{JSON.stringify(this.state,null,2)}</CodeArticle> : <Spinner />\n }\n}\n\n// ************************ Controls ********************\n//\n// TODO: List should be dynamic from config and passed through REST engine\nclass Controls extends Component {\n constructor(props){\n  super(props);\n  this.state = {data:[\n   {api:'ipam/check',text:'IPAM status check'},\n   {api:'interface/check',text:'Interface status check'},\n   {api:'device/system_info_discover',text:'Discover device system information (sysmac etc)'},\n   {api:'device/model_sync',text:'Sync device model mapping'},\n   {api:'device/vm_mapping',text:'VM UUID mapping'},\n   {api:'master/oui_fetch',text:'Sync OUI database'},\n   {api:'reservation/expiration_status',text:'Check reservation status'},\n   {api:'fdb/check',text:'Update FDB'}\n  ]}\n }\n\n listItem = (row) => [<HrefButton key={'ctrl_' + row.api} text={row.text} onClick={() => this.changeContent(<RestExecute key={'rest_' + row.api} {...row} />)} />]\n\n render(){\n  return <>\n   <ContentList key='cl' header='' thead={['API']} trows={this.state.data} listItem={this.listItem} />\n   <ContentData key='cda' mountUpdate={(fun) => this.changeContent = fun} />\n  </>\n }\n}\n\n// ************** File List **************\n//\nexport class FileList extends Component {\n constructor(props){\n  super(props)\n  this.state = {}\n }\n\n componentDidUpdate(prevProps){\n  if (prevProps !== this.props)\n   this.loadFiles();\n }\n\n componentDidMount(){\n  this.loadFiles()\n }\n\n loadFiles = () => {\n  let state = {};\n  if (this.props.hasOwnProperty('directory'))\n   state = {mode:'directory',args:{directory:this.props.directory},files:undefined}\n  else if (this.props.hasOwnProperty('fullpath'))\n   state = {mode:'fullpath',args:{fullpath:this.props.fullpath},files:undefined}\n  else\n   state = {mode:'images',args:{},files:undefined}\n  post_call('api/system/file_list',state.args).then(result => {\n   if (result.status === 'OK')\n    this.setState({mode:state.mode,...result})\n   else {\n    window.alert('Error retrieving files:' + result.info);\n    this.setState({files:[]})\n   }\n  })\n }\n\n listItem = (row) => {\n  if (this.state.mode === 'images')\n   return (row.substr(row.length - 4) === '.png') ? [row,<img src={this.state.path +'/'+row} alt={this.state.path +'/'+row} />] : []\n  else\n   return [<>{this.state.path + '/'}<a className={styles.href} href={this.state.path + '/' + row} target='_blank' rel='noopener noreferrer'>{row}</a></>]\n }\n\n render() {\n  return (!this.state.files) ? <Spinner /> : <ContentReport header={this.state.mode} thead={[]} trows={this.state.files} listItem={this.listItem} />\n }\n}\n"],"names":["Main","_Component","_inherits","_super","_createSuper","props","_this","_classCallCheck","call","compileNavItems","master","context","settings","node","admin","class","master_admin","loadNavigation","_jsxs","NavBar","children","_jsx","NavButton","title","onClick","changeImport","window","open","changeContent","Controls","NavDropDown","NavDropButton","Report","RestList","NavReload","state","navinfo","map","row","idx","NavInfo","elem","setState","content","navitems","logs","_createClass","key","value","_this2","post_call","user_id","this","id","then","result","Object","assign","prevProps","module","func","args","_this3","lib","Elem","_objectSpread","_Fragment","Component","contextType","RimsContext","_Component2","_super2","_this4","listItem","info","_this5","data","keys","sort","a","b","localeCompare","ContentReport","header","thead","trows","_Component3","_super3","_this6","api","HrefButton","text","function","RestInfo","_this7","apilist","forEach","item","functions","push","_this8","ContentList","ContentData","mountUpdate","fun","_Component4","_super4","_this9","_this10","_this11","information","Article","join","Title","Spinner","RestExecute","_Component5","_super5","apply","arguments","_this12","CodeArticle","JSON","stringify","_Component6","_super6","_this13","_this14","FileList","_Component7","_super7","_this15","loadFiles","hasOwnProperty","mode","directory","files","undefined","fullpath","status","alert","substr","length","src","path","alt","className","styles","href","target","rel"],"sourceRoot":""}