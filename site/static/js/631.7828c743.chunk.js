"use strict";(self.webpackChunkrims_frontend=self.webpackChunkrims_frontend||[]).push([[631],{631:function(t,n,e){e.r(n),e.d(n,{Inventory:function(){return y},Manage:function(){return _}});var i=e(942),o=e(413),a=e(671),r=e(144),s=e(340),c=e(882),u=e(791),d=e(252),p=e(885),h=e(698),l=e(682),v=e(355),f=e(184),_=function(t){(0,s.Z)(e,t);var n=(0,c.Z)(e);function e(){var t;(0,a.Z)(this,e);for(var i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return(t=n.call.apply(n,[this].concat(o))).changeContent=function(n){return t.setState(n)},t}return(0,r.Z)(e,[{key:"componentDidMount",value:function(){var t=this;(0,d.Fh)("api/device/hostname",{id:this.props.device_id}).then((function(n){t.context.loadNavigation((0,f.jsxs)(v.NavBar,{children:[(0,f.jsx)(v.NavInfo,{title:n.data},"cons_nav_name"),(0,f.jsx)(v.NavButton,{title:"Inventory",onClick:function(){return t.changeContent((0,f.jsx)(y,{device_id:t.props.device_id,type:t.props.type},"cons_inventory"))}},"cons_nav_inv"),(0,f.jsx)(v.NavButton,{title:"Info",onClick:function(){return t.changeContent((0,f.jsx)(x,{device_id:t.props.device_id,type:t.props.type},"con_info"))}},"con_nav_info")]},"cons_navbar"))})),this.setState((0,f.jsx)(y,{device_id:this.props.device_id,type:this.props.type},"cons_inventory"))}},{key:"render",value:function(){return(0,f.jsx)(f.Fragment,{children:this.state})}}]),e}(u.Component);_.contextType=p.RimsContext;var x=function(t){(0,s.Z)(e,t);var n=(0,c.Z)(e);function e(t){var r;return(0,a.Z)(this,e),(r=n.call(this,t)).onChange=function(t){return r.setState({data:(0,o.Z)((0,o.Z)({},r.state.data),{},(0,i.Z)({},t.target.name,t.target.value))})},r.updateInfo=function(){return(0,d.Fh)("api/devices/"+r.props.type+"/info",(0,o.Z)({op:"update"},r.state.data)).then((function(t){return r.setState(t)}))},r.state={},r}return(0,r.Z)(e,[{key:"componentDidMount",value:function(){var t=this;(0,d.Fh)("api/devices/"+this.props.type+"/info",{device_id:this.props.device_id}).then((function(n){return t.setState(n)}))}},{key:"render",value:function(){var t=this;return this.state.data?(0,f.jsx)(p.Flex,{style:{justifyContent:"space-evenly"},children:(0,f.jsxs)(p.InfoArticle,{header:"Console Info - "+this.props.type,children:[(0,f.jsxs)(p.InfoColumns,{children:[(0,f.jsx)(h.TextInput,{id:"access_url",label:"Access URL",value:this.state.data.access_url,onChange:this.onChange,title:"URL used as base together with port"},"ci_access_url"),(0,f.jsx)(h.TextInput,{id:"port",value:this.state.data.port,onChange:this.onChange},"ci_port")]},"ci_info"),(0,f.jsx)(l.ReloadButton,{onClick:function(){return t.componentDidMount()}},"ci_btn_reload"),(0,f.jsx)(l.SaveButton,{onClick:function(){return t.updateInfo()}},"ci_btn_save")]},"ci_article")},"ci_flex"):(0,f.jsx)(p.Spinner,{})}}]),e}(u.Component),y=function(t){(0,s.Z)(e,t);var n=(0,c.Z)(e);function e(t){var i;return(0,a.Z)(this,e),(i=n.call(this,t)).cnctFunction=function(t){var n=parseInt(t)+parseInt(i.state.extra.port);window.open("".concat(i.state.extra.access_url,":").concat(n),"_self")},i.listItem=function(t){return[t.interface,t.name,(0,f.jsx)(l.TermButton,{onClick:function(){return i.cnctFunction(t.interface)},title:"Connect"},"con_inv_btn_cnct_"+t.interface)]},i.state={},i}return(0,r.Z)(e,[{key:"componentDidMount",value:function(){var t=this;(0,d.Fh)("api/devices/"+this.props.type+"/inventory",{device_id:this.props.device_id}).then((function(n){return t.setState(n)}))}},{key:"render",value:function(){var t=this;return this.state.data?(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(p.ContentList,{header:"Inventory",thead:["Port","Device",""],trows:this.state.data,listItem:this.listItem,children:(0,f.jsx)(l.ReloadButton,{onClick:function(){t.setState({data:void 0}),t.componentDidMount()}},"reload")},"cl"),(0,f.jsx)(p.ContentData,{mountUpdate:function(n){return t.changeContent=n}},"cda")]}):(0,f.jsx)(p.Spinner,{})}}]),e}(u.Component)}}]);
//# sourceMappingURL=631.7828c743.chunk.js.map