"use strict";(self.webpackChunkrims_frontend=self.webpackChunkrims_frontend||[]).push([[307],{688:(t,e,n)=>{n.r(e),n.d(e,{Inventory:()=>l,Manage:()=>d});var s=n(43),i=n(524),o=n(662),a=n(97),c=n(728),r=n(307),h=n(579);class d extends s.Component{constructor(){super(...arguments),this.changeContent=t=>this.setState(t)}componentDidMount(){(0,i.Cc)("api/device/hostname",{id:this.props.device_id}).then((t=>{this.context.loadNavigation((0,h.jsxs)(r.NavBar,{children:[(0,h.jsx)(r.NavInfo,{title:t.data},"cons_nav_name"),(0,h.jsx)(r.NavButton,{title:"Inventory",onClick:()=>this.changeContent((0,h.jsx)(l,{device_id:this.props.device_id,type:this.props.type},"cons_inventory"))},"cons_nav_inv"),(0,h.jsx)(r.NavButton,{title:"Info",onClick:()=>this.changeContent((0,h.jsx)(p,{device_id:this.props.device_id,type:this.props.type},"con_info"))},"con_nav_info")]},"cons_navbar"))})),this.setState((0,h.jsx)(l,{device_id:this.props.device_id,type:this.props.type},"cons_inventory"))}render(){return(0,h.jsx)(h.Fragment,{children:this.state})}}d.contextType=o.RimsContext;class p extends s.Component{constructor(t){super(t),this.onChange=t=>this.setState({data:{...this.state.data,[t.target.name]:t.target.value}}),this.updateInfo=()=>(0,i.Cc)("api/devices/"+this.props.type+"/info",{op:"update",...this.state.data}).then((t=>this.setState(t))),this.state={}}componentDidMount(){(0,i.Cc)("api/devices/"+this.props.type+"/info",{device_id:this.props.device_id}).then((t=>this.setState(t)))}render(){return this.state.data?(0,h.jsx)(o.Flex,{style:{justifyContent:"space-evenly"},children:(0,h.jsxs)(o.InfoArticle,{header:"Console Info - "+this.props.type,children:[(0,h.jsxs)(o.InfoColumns,{children:[(0,h.jsx)(a.TextInput,{id:"access_url",label:"Access URL",value:this.state.data.access_url,onChange:this.onChange,title:"URL used as base together with port"},"ci_access_url"),(0,h.jsx)(a.TextInput,{id:"port",value:this.state.data.port,onChange:this.onChange},"ci_port")]},"ci_info"),(0,h.jsx)(c.ReloadButton,{onClick:()=>this.componentDidMount()},"ci_btn_reload"),(0,h.jsx)(c.SaveButton,{onClick:()=>this.updateInfo()},"ci_btn_save")]},"ci_article")},"ci_flex"):(0,h.jsx)(o.Spinner,{})}}class l extends s.Component{constructor(t){super(t),this.cnctFunction=t=>{const e=parseInt(t)+parseInt(this.state.extra.port);window.open(`${this.state.extra.access_url}:${e}`,"_self")},this.listItem=t=>[t.interface,t.name,(0,h.jsx)(c.TermButton,{onClick:()=>this.cnctFunction(t.interface),title:"Connect"},"con_inv_btn_cnct_"+t.interface)],this.state={}}componentDidMount(){(0,i.Cc)("api/devices/"+this.props.type+"/inventory",{device_id:this.props.device_id}).then((t=>this.setState(t)))}render(){return this.state.data?(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(o.ContentList,{header:"Inventory",thead:["Port","Device",""],trows:this.state.data,listItem:this.listItem,children:(0,h.jsx)(c.ReloadButton,{onClick:()=>{this.setState({data:void 0}),this.componentDidMount()}},"reload")},"cl"),(0,h.jsx)(o.ContentData,{mountUpdate:t=>this.changeContent=t},"cda")]}):(0,h.jsx)(o.Spinner,{})}}}}]);
//# sourceMappingURL=307.e001f25a.chunk.js.map