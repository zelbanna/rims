(this.webpackJsonprims=this.webpackJsonprims||[]).push([[4],{40:function(t,e,n){"use strict";n.r(e),n.d(e,"List",(function(){return p})),n.d(e,"Info",(function(){return k}));var a=n(18),o=n(14),i=n(3),c=n(4),r=n(5),u=n(6),l=n(0),d=n.n(l),s=n(12),f=n(13),h=n(19),m=n(15),p=function(t){Object(u.a)(n,t);var e=Object(r.a)(n);function n(t){var a;return Object(i.a)(this,n),(a=e.call(this,t)).changeContent=function(t){return a.setState({content:t})},a.deleteList=function(t){return window.confirm("Really delete location?")&&Object(s.d)("api/location/delete",{id:t}).then((function(e){return e.deleted&&a.setState({data:a.state.data.filter((function(e){return e.id!==t})),content:null})}))},a.listItem=function(t){return[t.id,t.name,d.a.createElement(d.a.Fragment,null,d.a.createElement(h.ConfigureButton,{key:"conf",onClick:function(){return a.changeContent(d.a.createElement(k,{key:"location",id:t.id}))},title:"Edit location"}),d.a.createElement(h.DeleteButton,{key:"del",onClick:function(){return a.deleteList(t.id)},title:"Delete location"}))]},a.state={},a}return Object(c.a)(n,[{key:"componentDidMount",value:function(){var t=this;Object(s.d)("api/location/list").then((function(e){return t.setState(e)}))}},{key:"render",value:function(){var t=this;return d.a.createElement(d.a.Fragment,null,d.a.createElement(f.ContentList,{key:"loc_cl",header:"Locations",thead:["ID","Name",""],trows:this.state.data,listItem:this.listItem},d.a.createElement(h.ReloadButton,{key:"reload",onClick:function(){return t.componentDidMount()}}),d.a.createElement(h.AddButton,{key:"add",onClick:function(){return t.changeContent(d.a.createElement(k,{key:"location",id:"new"}))},title:"Add location"})),d.a.createElement(f.ContentData,{key:"loc_cd"},this.state.content))}}]),n}(l.Component),k=function(t){Object(u.a)(n,t);var e=Object(r.a)(n);function n(t){var c;return Object(i.a)(this,n),(c=e.call(this,t)).onChange=function(t){return c.setState({data:Object(o.a)({},c.state.data,Object(a.a)({},t.target.name,t.target.value))})},c.changeContent=function(t){return c.setState({content:t})},c.updateInfo=function(){return Object(s.d)("api/location/info",Object(o.a)({op:"update"},c.state.data)).then((function(t){return c.setState(t)}))},c.state={data:null,found:!0},c}return Object(c.a)(n,[{key:"componentDidUpdate",value:function(t,e){var n=this;t!==this.props&&Object(s.d)("api/location/info",{id:this.props.id}).then((function(t){return n.setState(t)}))}},{key:"componentDidMount",value:function(){var t=this;Object(s.d)("api/location/info",{id:this.props.id}).then((function(e){return t.setState(e)}))}},{key:"render",value:function(){var t=this;return this.state.found?this.state.data?d.a.createElement(f.InfoArticle,{key:"ia_loc",header:"Location"},d.a.createElement(f.InfoColumns,{key:"ic"},d.a.createElement(m.TextInput,{key:"name",id:"name",value:this.state.data.name,onChange:this.onChange})),d.a.createElement(h.SaveButton,{key:"save",onClick:function(){return t.updateInfo()},title:"Save"})):d.a.createElement(f.Spinner,null):d.a.createElement(f.InfoArticle,{key:"ia_loc"},"Location id: ",this.props.id," removed")}}]),n}(l.Component)}}]);
//# sourceMappingURL=4.74598900.chunk.js.map