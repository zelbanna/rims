"use strict";(self.webpackChunkrims_frontend=self.webpackChunkrims_frontend||[]).push([[208],{208:function(t,n,e){e.r(n),e.d(n,{Info:function(){return v},List:function(){return m}});var i=e(942),o=e(413),a=e(671),r=e(144),u=e(340),s=e(882),c=e(791),d=e(252),l=e(885),f=e(682),h=e(698),p=e(184),m=function(t){(0,u.Z)(e,t);var n=(0,s.Z)(e);function e(t){var i;return(0,a.Z)(this,e),(i=n.call(this,t)).deleteList=function(t){return window.confirm("Really delete location?")&&(0,d.Fh)("api/location/delete",{id:t}).then((function(n){n.deleted&&(i.setState({data:i.state.data.filter((function(n){return n.id!==t}))}),i.changeContent(null))}))},i.listItem=function(t){return[t.id,t.name,(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(f.ConfigureButton,{onClick:function(){return i.changeContent((0,p.jsx)(v,{id:t.id},"location"))},title:"Edit location"},"conf"),(0,p.jsx)(f.DeleteButton,{onClick:function(){return i.deleteList(t.id)},title:"Delete location"},"del")]})]},i.state={},i}return(0,r.Z)(e,[{key:"componentDidMount",value:function(){var t=this;(0,d.Fh)("api/location/list").then((function(n){return t.setState(n)}))}},{key:"render",value:function(){var t=this;return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)(l.ContentList,{header:"Locations",thead:["ID","Name",""],trows:this.state.data,listItem:this.listItem,children:[(0,p.jsx)(f.ReloadButton,{onClick:function(){return t.componentDidMount()}},"reload"),(0,p.jsx)(f.AddButton,{onClick:function(){return t.changeContent((0,p.jsx)(v,{id:"new"},"location"))},title:"Add location"},"add")]},"cl"),(0,p.jsx)(l.ContentData,{mountUpdate:function(n){return t.changeContent=n}},"cda")]})}}]),e}(c.Component),v=function(t){(0,u.Z)(e,t);var n=(0,s.Z)(e);function e(t){var r;return(0,a.Z)(this,e),(r=n.call(this,t)).onChange=function(t){return r.setState({data:(0,o.Z)((0,o.Z)({},r.state.data),{},(0,i.Z)({},t.target.name,t.target.value))})},r.updateInfo=function(){return(0,d.Fh)("api/location/info",(0,o.Z)({op:"update"},r.state.data)).then((function(t){return r.setState(t)}))},r.state={data:null,found:!0},r}return(0,r.Z)(e,[{key:"componentDidUpdate",value:function(t,n){t!==this.props&&this.componentDidMount()}},{key:"componentDidMount",value:function(){var t=this;(0,d.Fh)("api/location/info",{id:this.props.id}).then((function(n){return t.setState(n)}))}},{key:"render",value:function(){var t=this;return this.state.found?this.state.data?(0,p.jsxs)(l.InfoArticle,{header:"Location",children:[(0,p.jsx)(l.InfoColumns,{children:(0,p.jsx)(h.TextInput,{id:"name",value:this.state.data.name,onChange:this.onChange},"name")},"ic"),(0,p.jsx)(f.SaveButton,{onClick:function(){return t.updateInfo()},title:"Save"},"save")]},"ia_loc"):(0,p.jsx)(l.Spinner,{}):(0,p.jsxs)(l.InfoArticle,{children:["Location id: ",this.props.id," removed"]},"ia_loc")}}]),e}(c.Component)}}]);
//# sourceMappingURL=208.71521aad.chunk.js.map