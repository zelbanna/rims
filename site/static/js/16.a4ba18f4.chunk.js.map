{"version":3,"sources":["multimedia.jsx"],"names":["Main","props","compileNavItems","context","loadNavigation","key","title","state","ip","changeContent","elem","setState","content","reloadList","post_call","then","result","deleteList","obj","window","confirm","file","deleted","data","filter","row","path","listItem","idx","onClick","Title","Lookup","Subtitles","undefined","Object","assign","status","this","prevProps","header","thead","trows","Cleanup","rnd","Component","contextType","RimsContext","onChange","e","target","name","value","threadChange","checked","updateInfo","op","transferFile","thread","module","function","output","args","wait","processFile","id","text","JSON","stringify","info","seconds","prefix","suffix","label","dest","rename","aac_probe","changes","aac","audio","subtitle","srt","type","epside","episode","video","set_default","language","add","join","remove","add_aac","languages","code","item"],"mappings":"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","file":"static/js/16.a4ba18f4.chunk.js","sourcesContent":["import React, { Component } from 'react'\nimport { post_call, rnd } from './infra/Functions.js';\nimport { RimsContext, Spinner, CodeArticle, InfoArticle, InfoColumns, ContentList, ContentData, ContentReport } from './infra/UI.jsx';\nimport { CheckboxInput, TextLine,TextInput } from './infra/Inputs.jsx';\nimport { NavBar, NavInfo } from './infra/Navigation.jsx';\nimport { DocButton, DeleteButton, InfoButton, ReloadButton, SearchButton, StartButton, SyncButton } from './infra/Buttons.jsx';\n\n// ************* Main ************\n//\nexport class Main extends Component {\n constructor(props){\n  super(props)\n  this.state = {content:undefined,ip:undefined}\n }\n\n componentDidMount(){\n  post_call('api/system/external_ip').then(result => {\n   Object.assign(this.state,{ip:(result && result.status === 'OK') ? result.ip : '0.0.0.0'})\n   this.compileNavItems()\n  })\n  this.reloadList()\n }\n\n componentDidUpdate(prevProps){\n  if(prevProps !== this.props)\n   this.compileNavItems()\n }\n\n compileNavItems = () => this.context.loadNavigation(<NavBar key='multimedia_navbar'><NavInfo key='mm_nav_ip' title={this.state.ip} /></NavBar>)\n\n changeContent = (elem) => this.setState({content:elem});\n\n reloadList = () => post_call('api/multimedia/list').then(result => this.setState(result));\n\n deleteList = (obj) => (window.confirm('Delete file '+obj.file+'?') && post_call('api/multimedia/delete',obj).then(result => result.deleted && this.setState({data:this.state.data.filter(row => (!(row.path === obj.path && row.file === obj.file))),content:null})));\n\n listItem = (row,idx) => [row.file,<>\n   <InfoButton key='info' onClick={() => this.changeContent(<Title key={'multimedia_title_'+idx} path={row.path} file={row.file} />)} title='Title info' />\n   <SearchButton key='lookup' onClick={() => this.changeContent(<Lookup key={'multimedia_lookup_'+idx} path={row.path} file={row.file} />)} title='Lookup info' />\n   <DocButton key='subs' onClick={() => this.changeContent(<Subtitles key={'multimedia_subs_'+idx} path={row.path} file={row.file} />)} title='Subtitles' />\n   <DeleteButton key='del' onClick={() => this.deleteList(row)} title='Delete file' />\n  </>]\n\n render(){\n  if(this.state.data)\n   return <>\n    <ContentList key='mm_cl' header='Media files' thead={['File','']} trows={this.state.data} listItem={this.listItem} result={this.state.result}>\n     <ReloadButton key='reload' onClick={() => this.reloadList()} />\n     <DeleteButton key='cleanup' onClick={() => (window.confirm('Really clean up files?') && this.changeContent(<Cleanup key={'multimedia_cleanup_'+rnd()} />))} title='Cleanup multimedia directory' />\n    </ContentList>\n    <ContentData key='mm_cd'>{this.state.content}</ContentData>\n   </>\n  else\n   return <Spinner />\n }\n}\nMain.contextType = RimsContext;\n\n// ************* Title ************\n//\nclass Title extends Component {\n constructor(props){\n  super(props)\n  this.state = {thread:true,wait:null}\n }\n\n componentDidMount(){\n  post_call('api/multimedia/check_title',{path:this.props.path,file:this.props.file}).then(result => this.setState(result));\n }\n\n onChange = (e) => this.setState({data:{...this.state.data, [e.target.name]:e.target.value}});\n\n threadChange = (e) => this.setState({[e.target.name]:e.target.checked});\n\n updateInfo = () => post_call('api/multimedia/check_titlt',{op:'update', ...this.state.data}).then(result => this.setState(result))\n\n transferFile = () => {\n  if (window.confirm('Transfer file to repository?')){\n   if(this.state.thread)\n    post_call('api/system/worker',{module:'multimedia',function:'transfer',output:true,args:{path:this.props.path,file:this.props.file}}).then(result => this.setState({op:'transfer',result:result}));\n   else {\n    this.setState({wait:<Spinner />})\n    post_call('api/multimedia/transfer',{path:this.props.path,file:this.props.file}).then(result => this.setState({op:'transfer',result:result,wait:null}));\n   }\n  }\n }\n\n processFile = () => {\n  if (window.confirm('Process file?')){\n   if(this.state.thread)\n    post_call('api/system/worker',{module:'multimedia',function:'process',output:true,args:{path:this.props.path,file:this.props.file,...this.state.data}}).then(result => this.setState({op:'process',result:result}));\n   else {\n    this.setState({wait:<Spinner />})\n    post_call('api/multimedia/process',{path:this.props.path,file:this.props.file,...this.state.data}).then(result => this.setState({op:'process',result:result,wait:null}));\n   }\n  }\n }\n\n render(){\n  if (this.state.op) {\n   if(this.state.thread || this.state.op === 'transfer')\n    return <InfoArticle key='mm_trans_article' header={(this.state.thread) ? 'Task activation' : 'Transfer'}>\n     <TextLine key='mm_trans_res' id='result' text={JSON.stringify(this.state.result)} />\n    </InfoArticle>\n   else {\n    if(this.state.result.status === 'NOT_OK')\n     return <CodeArticle key='mm_error_code' header='Process Error'>{JSON.stringify(this.state.result.info,null,2)}</CodeArticle>\n    else {\n     const data = this.state.result.data;\n     return <InfoArticle key='mm_proc_article' header='Process success'>\n      Elapsed time for processing file: {this.state.result.seconds} seconds\n      <InfoColumns key='mm_proc_ic'>\n       <TextLine key='mm_proc_prefix' id='prefix' text={data.prefix} />\n       <TextLine key='mm_proc_suffix' id='suffix' text={data.suffix} />\n       <TextLine key='mm_proc_dest' id='dest' label='Destination' text={JSON.stringify(data.dest)} />\n       <TextLine key='mm_proc_rename' id='rename' text={JSON.stringify(data.rename)} />\n       <TextLine key='mm_proc_aac' id='aac' label='Add AAC' text={JSON.stringify(data.aac_probe)} />\n       <TextLine key='mm_proc_chg_aac' id='chg_aac' label='Param AAC' text={data.changes.aac} />\n       <TextLine key='mm_proc_chg_aud' id='chg_aud' label='Param Audio' text={data.changes.audio} />\n       <TextLine key='mm_proc_chg_sub' id='chg_sub' label='Param Subtitles' text={data.changes.subtitle} />\n       <TextLine key='mm_proc_chg_srt' id='chg_srt' label='Param SRT files' text={data.changes.srt} />\n      </InfoColumns>\n     </InfoArticle>\n    }\n   }\n  } else if(this.state.data){\n   const data = this.state.data\n   return <InfoArticle key='mm_tit_article' header='Title'>\n    <InfoColumns key='mm_tit_ic'>\n     <TextLine key='mm_tit_type' id='type' text={data.type} />\n     <TextLine key='mm_tit_title' id='title' text={data.title} />\n     <TextLine key='mm_tit_path' id='path' text={data.path} />\n     <TextInput key='mm_tit_name' id='name' value={data.name} onChange={this.onChange} />\n     {data.epside && <TextInput key='mm_tit_eposide' id='episode' value={data.episode} onChange={this.onChange} />}\n     <TextInput key='mm_tit_info' id='info' value={data.info} onChange={this.onChange} />\n     <CheckboxInput key='mm_tit_thread' id='thread' label='Thread' value={this.state.thread} onChange={this.threadChange} title='Thread or direct execution' />\n    </InfoColumns>\n    <StartButton key='mm_tit_btn_proc' onClick={() => this.processFile()} title='Process file' />\n    <SyncButton key='mm_tit_btn_trans' onClick={() => this.transferFile()} title='Transfer file' />\n    {this.state.wait}\n   </InfoArticle>\n  } else\n   return <Spinner />\n }\n}\n\n// ************* Lookup ************\n//\nclass Lookup extends Component {\n constructor(props){\n  super(props)\n  this.state = {}\n }\n\n componentDidMount(){\n  post_call('api/multimedia/check_content',{path:this.props.path,file:this.props.file}).then(result => this.setState(result));\n }\n\n render(){\n  if (this.state.data) {\n   const data = this.state.data\n   return <InfoArticle key='mm_lu_article' header='Lookup'>\n    <InfoColumns key='mm_lu_ic'>\n     <TextLine key='mm_lu_file' id='file' label='File' text={this.props.file} />\n     <TextLine key='mm_lu_status' id='status' label='Result' text={this.state.status} />\n     <TextLine key='mm_lu_error' id='error' label='Error' text={this.state.info} />\n     <TextLine key='mm_lu_v_def' id='video_default' label='Video default' text={JSON.stringify(!data.video.set_default)} title='Video stream has default language' />\n     <TextLine key='mm_lu_v_lang' id='video_lang' label='Video language' text={data.video.language} title='Language set in video stream information' />\n     <TextLine key='mm_lu_a_add' id='audio_add' label='Audio keep' text={data.audio.add.join()} />\n     <TextLine key='mm_lu_a_rem' id='audio_rem' label='Audio remove' text={data.audio.remove.join()} />\n     <TextLine key='mm_lu_a_aac' id='audio_aac' label='Add AAC' text={JSON.stringify(data.audio.add_aac)} />\n     <TextLine key='mm_lu_s_add' id='sub_add' label='Subtitle keep' text={data.subtitle.add.join()} />\n     <TextLine key='mm_lu_s_rem' id='sub_rem' label='Subtitle remove' text={data.subtitle.remove.join()} />\n     <TextLine key='mm_lu_a_lang' id='sub_lang' label='Subtitle languages' text={data.subtitle.languages.join()} />\n    </InfoColumns>\n   </InfoArticle>\n  } else\n   return <Spinner />\n }\n}\n\n// ************* Subtitles ************\n//\nclass Subtitles extends Component {\n constructor(props){\n  super(props)\n  this.state = {}\n }\n\n componentDidMount(){\n  post_call('api/multimedia/check_srt',{path:this.props.path,file:this.props.file}).then(result => this.setState(result));\n }\n\n render(){\n  if (this.state.data) {\n   return <InfoArticle key='mm_sub_art' header='Extra subtitles'>\n    <InfoColumns key='mm_sub_ic'>\n     <TextLine key='mm_sub_path' id='path' text={this.props.path} />\n     <TextLine key='mm_sub_item' id='item' text={this.props.file} />\n     <TextLine key='mm_sub_name' id='name' text={this.state.data.name} />\n     <TextLine key='mm_sub_code' id='code' text={this.state.data.code} />\n     <TextLine key='mm_sub_file' id='file' text={this.state.data.file} />\n    </InfoColumns>\n   </InfoArticle>\n  } else\n   return <Spinner />\n }\n}\n\n// ************* Cleanup ************\n//\nclass Cleanup extends Component {\n constructor(props){\n  super(props)\n  this.state = {}\n }\n\n componentDidMount(){\n  post_call('api/multimedia/cleanup').then(result => this.setState(result));\n }\n\n render(){\n   return (this.state.data) ? <ContentReport key='mm_clean_cr' header='delete' thead={['Type','Path','Item','Status','Info']} trows={this.state.data} listItem={(row) => [row.type,row.path,row.item,row.status,row.info]} /> : <Spinner />\n }\n}\n"],"sourceRoot":""}