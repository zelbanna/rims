(this.webpackJsonprims=this.webpackJsonprims||[]).push([[12],{43:function(t,e,n){"use strict";n.r(e),n.d(e,"Manage",(function(){return b})),n.d(e,"Inventory",(function(){return O}));var c=n(19),i=n(10),a=n(5),o=n(6),r=n(8),s=n(7),u=n(3),d=n(14),p=n(15),j=n(16),v=n(21),h=n(17),l=n(0),b=function(t){Object(r.a)(n,t);var e=Object(s.a)(n);function n(){var t;Object(a.a)(this,n);for(var c=arguments.length,i=new Array(c),o=0;o<c;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i))).changeContent=function(e){return t.setState(e)},t}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var t=this;Object(d.d)("api/device/hostname",{id:this.props.device_id}).then((function(e){t.context.loadNavigation(Object(l.jsxs)(h.NavBar,{children:[Object(l.jsx)(h.NavInfo,{title:e.data},"cons_nav_name"),Object(l.jsx)(h.NavButton,{title:"Inventory",onClick:function(){return t.changeContent(Object(l.jsx)(O,{device_id:t.props.device_id,type:t.props.type},"cons_inventory"))}},"cons_nav_inv"),Object(l.jsx)(h.NavButton,{title:"Info",onClick:function(){return t.changeContent(Object(l.jsx)(f,{device_id:t.props.device_id,type:t.props.type},"con_info"))}},"con_nav_info")]},"cons_navbar"))})),this.setState(Object(l.jsx)(O,{device_id:this.props.device_id,type:this.props.type},"cons_inventory"))}},{key:"render",value:function(){return Object(l.jsx)(l.Fragment,{children:this.state})}}]),n}(u.Component);b.contextType=p.RimsContext;var f=function(t){Object(r.a)(n,t);var e=Object(s.a)(n);function n(t){var o;return Object(a.a)(this,n),(o=e.call(this,t)).onChange=function(t){return o.setState({data:Object(i.a)(Object(i.a)({},o.state.data),{},Object(c.a)({},t.target.name,t.target.value))})},o.updateInfo=function(){return Object(d.d)("api/devices/"+o.props.type+"/info",Object(i.a)({op:"update"},o.state.data)).then((function(t){return o.setState(t)}))},o.state={},o}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var t=this;Object(d.d)("api/devices/"+this.props.type+"/info",{device_id:this.props.device_id}).then((function(e){return t.setState(e)}))}},{key:"render",value:function(){var t=this;return this.state.data?Object(l.jsx)(p.Flex,{style:{justifyContent:"space-evenly"},children:Object(l.jsxs)(p.InfoArticle,{header:"Console Info - "+this.props.type,children:[Object(l.jsxs)(p.InfoColumns,{children:[Object(l.jsx)(j.TextInput,{id:"access_url",label:"Access URL",value:this.state.data.access_url,onChange:this.onChange,title:"URL used as base together with port"},"ci_access_url"),Object(l.jsx)(j.TextInput,{id:"port",value:this.state.data.port,onChange:this.onChange},"ci_port")]},"ci_info"),Object(l.jsx)(v.ReloadButton,{onClick:function(){return t.componentDidMount()}},"ci_btn_reload"),Object(l.jsx)(v.SaveButton,{onClick:function(){return t.updateInfo()}},"ci_btn_save")]},"ci_article")},"ci_flex"):Object(l.jsx)(p.Spinner,{})}}]),n}(u.Component),O=function(t){Object(r.a)(n,t);var e=Object(s.a)(n);function n(t){var c;return Object(a.a)(this,n),(c=e.call(this,t)).cnctFunction=function(t){var e=parseInt(t)+parseInt(c.state.extra.port);window.open("".concat(c.state.extra.access_url,":").concat(e),"_self")},c.listItem=function(t){return[t.interface,t.name,Object(l.jsx)(v.TermButton,{onClick:function(){return c.cnctFunction(t.interface)},title:"Connect"},"con_inv_btn_cnct_"+t.interface)]},c.state={},c}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var t=this;Object(d.d)("api/devices/"+this.props.type+"/inventory",{device_id:this.props.device_id}).then((function(e){return t.setState(e)}))}},{key:"render",value:function(){var t=this;return this.state.data?Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(p.ContentList,{header:"Inventory",thead:["Port","Device",""],trows:this.state.data,listItem:this.listItem,children:Object(l.jsx)(v.ReloadButton,{onClick:function(){t.setState({data:void 0}),t.componentDidMount()}},"reload")},"cl"),Object(l.jsx)(p.ContentData,{mountUpdate:function(e){return t.changeContent=e}},"cda")]}):Object(l.jsx)(p.Spinner,{})}}]),n}(u.Component)}}]);
//# sourceMappingURL=12.f5cb0cd2.chunk.js.map