(this.webpackJsonprims=this.webpackJsonprims||[]).push([[5],{38:function(t,e,n){"use strict";n.r(e),n.d(e,"List",(function(){return b})),n.d(e,"Info",(function(){return O}));var i=n(19),a=n(10),o=n(5),c=n(6),r=n(8),u=n(7),s=n(3),d=n(14),l=n(15),j=n(21),f=n(16),h=n(0),b=function(t){Object(r.a)(n,t);var e=Object(u.a)(n);function n(t){var i;return Object(o.a)(this,n),(i=e.call(this,t)).deleteList=function(t){return window.confirm("Really delete location?")&&Object(d.d)("api/location/delete",{id:t}).then((function(e){e.deleted&&(i.setState({data:i.state.data.filter((function(e){return e.id!==t}))}),i.changeContent(null))}))},i.listItem=function(t){return[t.id,t.name,Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(j.ConfigureButton,{onClick:function(){return i.changeContent(Object(h.jsx)(O,{id:t.id},"location"))},title:"Edit location"},"conf"),Object(h.jsx)(j.DeleteButton,{onClick:function(){return i.deleteList(t.id)},title:"Delete location"},"del")]})]},i.state={},i}return Object(c.a)(n,[{key:"componentDidMount",value:function(){var t=this;Object(d.d)("api/location/list").then((function(e){return t.setState(e)}))}},{key:"render",value:function(){var t=this;return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)(l.ContentList,{header:"Locations",thead:["ID","Name",""],trows:this.state.data,listItem:this.listItem,children:[Object(h.jsx)(j.ReloadButton,{onClick:function(){return t.componentDidMount()}},"reload"),Object(h.jsx)(j.AddButton,{onClick:function(){return t.changeContent(Object(h.jsx)(O,{id:"new"},"location"))},title:"Add location"},"add")]},"cl"),Object(h.jsx)(l.ContentData,{mountUpdate:function(e){return t.changeContent=e}},"cda")]})}}]),n}(s.Component),O=function(t){Object(r.a)(n,t);var e=Object(u.a)(n);function n(t){var c;return Object(o.a)(this,n),(c=e.call(this,t)).onChange=function(t){return c.setState({data:Object(a.a)(Object(a.a)({},c.state.data),{},Object(i.a)({},t.target.name,t.target.value))})},c.updateInfo=function(){return Object(d.d)("api/location/info",Object(a.a)({op:"update"},c.state.data)).then((function(t){return c.setState(t)}))},c.state={data:null,found:!0},c}return Object(c.a)(n,[{key:"componentDidUpdate",value:function(t,e){t!==this.props&&this.componentDidMount()}},{key:"componentDidMount",value:function(){var t=this;Object(d.d)("api/location/info",{id:this.props.id}).then((function(e){return t.setState(e)}))}},{key:"render",value:function(){var t=this;return this.state.found?this.state.data?Object(h.jsxs)(l.InfoArticle,{header:"Location",children:[Object(h.jsx)(l.InfoColumns,{children:Object(h.jsx)(f.TextInput,{id:"name",value:this.state.data.name,onChange:this.onChange},"name")},"ic"),Object(h.jsx)(j.SaveButton,{onClick:function(){return t.updateInfo()},title:"Save"},"save")]},"ia_loc"):Object(h.jsx)(l.Spinner,{}):Object(h.jsxs)(l.InfoArticle,{children:["Location id: ",this.props.id," removed"]},"ia_loc")}}]),n}(s.Component)}}]);
//# sourceMappingURL=5.52eb5947.chunk.js.map