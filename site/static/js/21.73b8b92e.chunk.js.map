{"version":3,"sources":["resource.jsx"],"names":["Main","props","compileNavItems","buttons","key","panel","type","push","title","onClick","context","changeMain","window","open","tab","className","styles","frame","src","console","log","JSON","stringify","Object","entries","state","data","loadNavigation","post_call","then","result","assign","prevProps","this","Fragment","Component","contextType","RimsContext"],"mappings":"iPAQaA,EAAb,kDACC,WAAYC,GAAO,IAAD,8BACjB,cAAMA,IAiBPC,gBAAkB,WAEjB,IADA,IAAIC,EAAU,GADS,aAElB,0BAAKC,EAAL,KAAUC,EAAV,KACe,WAAfA,EAAMC,KACTH,EAAQI,KAAK,cAAC,gBAAD,CAA+BC,MAAOJ,EAAKK,QAAS,kBAAM,EAAKC,QAAQC,WAAWN,KAA9D,MAAMD,IAChB,QAAfC,EAAMC,KACdH,EAAQI,KAAK,cAAC,gBAAD,CAA+BC,MAAOJ,EAAKK,QAAS,kBAAMG,OAAOC,KAAKR,EAAMS,IAAI,YAA5D,MAAMV,IAChB,UAAfC,EAAMC,KACdH,EAAQI,KAAK,cAAC,gBAAD,CAA+BC,MAAOJ,EAAKK,QAAS,kBAAM,EAAKC,QAAQC,WAAW,wBAAQI,UAAWC,IAAOC,MAAOT,MAAOJ,EAAKc,IAAKb,EAAMY,WAAtH,MAAMb,IAEvCe,QAAQC,IAAI,sBAAsBC,KAAKC,UAAUjB,KARnD,MAAyBkB,OAAOC,QAAQ,EAAKC,MAAMC,MAAnD,eAA0D,IAU1D,EAAKhB,QAAQiB,eAAe,cAAC,SAAD,UAA8B,cAAC,cAAD,CAA6BnB,MAAM,YAAnC,SAAgDL,GAA/B,cAAnC,qBA5BxC,EAAKsB,MAAQ,GAFI,EADnB,qDAMC,WAAoB,IAAD,OAClBG,YAAU,uBAAuB,CAACtB,KAAK,aAAauB,MAAK,SAAAC,GACxDP,OAAOQ,OAAO,EAAKN,MAAMK,GACzB,EAAK5B,uBATR,gCAaC,SAAmB8B,GACfA,IAAcC,KAAKhC,OACrBgC,KAAK/B,oBAfR,oBAkCC,WACC,OAAO,cAAC,IAAMgC,SAAP,QAnCT,GAA0BC,aAsC1BnC,EAAKoC,YAAcC","file":"static/js/21.73b8b92e.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport { post_call } from './infra/Functions.js';\nimport { NavBar, NavDropDown, NavDropButton } from './infra/Navigation.jsx';\nimport { RimsContext } from './infra/UI.jsx';\nimport styles from './infra/ui.module.css';\n\n// ************** Main **************\n//\nexport class Main extends Component {\n constructor(props){\n  super(props)\n  this.state = {}\n }\n\n componentDidMount(){\n  post_call('api/portal/resources',{type:'resource'}).then(result => {\n   Object.assign(this.state,result);\n   this.compileNavItems();\n  })\n }\n\n componentDidUpdate(prevProps){\n  if(prevProps !== this.props){\n   this.compileNavItems();\n  }\n }\n\n compileNavItems = () => {\n  let buttons = []\n  for (let [key, panel] of Object.entries(this.state.data)){\n   if (panel.type === 'module')\n    buttons.push(<NavDropButton key={'mb_'+key} title={key} onClick={() => this.context.changeMain(panel)} />)\n   else if (panel.type === 'tab')\n    buttons.push(<NavDropButton key={'mb_'+key} title={key} onClick={() => window.open(panel.tab,'_blank')} />)\n   else if (panel.type === 'frame')\n    buttons.push(<NavDropButton key={'mb_'+key} title={key} onClick={() => this.context.changeMain(<iframe className={styles.frame} title={key} src={panel.frame} />)} />)\n   else\n    console.log(\"Unknown panel type:\"+JSON.stringify(panel))\n  }\n  this.context.loadNavigation(<NavBar key='resource_navbar'><NavDropDown key='resources' title='Resources'>{buttons}</NavDropDown></NavBar>)\n }\n\n render(){\n  return <React.Fragment />\n }\n}\nMain.contextType = RimsContext;\n"],"sourceRoot":""}