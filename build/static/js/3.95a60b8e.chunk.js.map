{"version":3,"sources":["location.jsx"],"names":["List","props","changeContent","elem","setState","content","deleteList","id","window","confirm","rest_call","then","result","deleted","data","state","filter","row","listItem","name","key","onClick","Info","title","header","thead","trows","this","componentDidMount","rnd","Component","onChange","e","target","value","updateInfo","op","found","className"],"mappings":"iRAQaA,EAAb,YACA,WAAYC,GAAO,IAAD,8BAChB,4CAAMA,KAQPC,cAAgB,SAACC,GAAD,OAAU,EAAKC,SAAS,CAACC,QAAQF,KAThC,EAUjBG,WAAa,SAACC,GAAD,OAASC,OAAOC,QAAQ,4BAA8BC,YAAU,sBAAuB,CAACH,GAAGA,IAAKI,MAAK,SAAAC,GAAM,OAAIA,EAAOC,SAAW,EAAKT,SAAS,CAACU,KAAK,EAAKC,MAAMD,KAAKE,QAAO,SAAAC,GAAG,OAAKA,EAAIV,KAAOA,KAAKF,QAAQ,WAVxM,EAYjBa,SAAW,SAACD,GAAD,MAAS,CAACA,EAAIV,GAAGU,EAAIE,KAAK,kBAAC,WAAD,CAAUC,IAAK,oBAAoBH,EAAIV,IAC1E,kBAAC,kBAAD,CAAiBa,IAAK,gBAAgBH,EAAIV,GAAIc,QAAS,kBAAM,EAAKnB,cAAc,kBAACoB,EAAD,CAAMF,IAAK,YAAYH,EAAIV,GAAIA,GAAIU,EAAIV,OAASgB,MAAM,kBACtI,kBAAC,eAAD,CAAcH,IAAK,kBAAkBH,EAAIV,GAAIc,QAAS,kBAAM,EAAKf,WAAWW,EAAIV,KAAKgB,MAAM,uBAZ5F,EAAKR,MAAQ,GAFG,EADlB,iFAMqB,IAAD,OAClBL,YAAU,qBAAsBC,MAAK,SAAAC,GAAM,OAAI,EAAKR,SAASQ,QAP/D,+BAmBU,IAAD,OACP,OAAO,kBAAC,WAAD,CAAUQ,IAAI,gBACpB,kBAAC,cAAD,CAAaA,IAAI,SAASI,OAAO,YAAYC,MAAO,CAAC,KAAK,OAAO,IAAKC,MAAOC,KAAKZ,MAAMD,KAAMI,SAAUS,KAAKT,UAC5G,kBAAC,eAAD,CAAcE,IAAI,iBAAiBC,QAAS,kBAAM,EAAKO,uBACvD,kBAAC,YAAD,CAAWR,IAAI,cAAcC,QAAS,kBAAM,EAAKnB,cAAc,kBAACoB,EAAD,CAAMF,IAAK,gBAAkBS,cAAOtB,GAAG,UAAWgB,MAAM,kBAExH,kBAAC,cAAD,CAAaH,IAAI,UAAUO,KAAKZ,MAAMV,cAzBzC,GAA0ByB,aAgCbR,EAAb,YACC,WAAYrB,GAAO,IAAD,8BACjB,4CAAMA,KAIP8B,SAAW,SAACC,GAAD,OAAO,EAAK5B,SAAS,CAACU,KAAK,eAAI,EAAKC,MAAMD,KAAhB,eAAuBkB,EAAEC,OAAOd,KAAMa,EAAEC,OAAOC,WALlE,EAOlBhC,cAAgB,SAACC,GAAD,OAAU,EAAKC,SAAS,CAACC,QAAQF,KAP/B,EASlBgC,WAAa,kBAAMzB,YAAU,oBAAD,aAAsB0B,GAAG,UAAa,EAAKrB,MAAMD,OAAOH,MAAK,SAAAC,GAAM,OAAI,EAAKR,SAASQ,OAPhH,EAAKG,MAAQ,CAACD,KAAK,KAAMuB,OAAM,GAFd,EADnB,iFAYqB,IAAD,OAClB3B,YAAU,oBAAoB,CAACH,GAAGoB,KAAK1B,MAAMM,KAAKI,MAAK,SAAAC,GAAM,OAAI,EAAKR,SAASQ,QAbjF,+BAgBW,IAAD,OACR,OAAKe,KAAKZ,MAAMsB,MAEPV,KAAKZ,MAAMD,KAElB,6BAASwB,UAAU,QAClB,wCACA,kBAAC,cAAD,CAAalB,IAAI,eACjB,kBAAC,YAAD,CAAWA,IAAI,OAAOb,GAAG,OAAO2B,MAAOP,KAAKZ,MAAMD,KAAKK,KAAMY,SAAUJ,KAAKI,YAE5E,kBAAC,aAAD,CAAYX,IAAI,eAAeC,QAAS,kBAAM,EAAKc,cAAcZ,MAAM,UAIlE,kBAAC,UAAD,MAZA,iDAAuBI,KAAK1B,MAAMM,GAAlC,gBAlBV,GAA0BuB","file":"static/js/3.95a60b8e.chunk.js","sourcesContent":["import React, { Fragment, Component } from 'react'\nimport { rest_call, rnd } from './infra/Functions.js';\nimport { Spinner, InfoColumns, ContentList, ContentData } from './infra/UI.jsx';\nimport { AddButton, DeleteButton, ConfigureButton, ReloadButton, SaveButton } from './infra/Buttons.jsx';\nimport { TextInput } from './infra/Inputs.jsx';\n\n// ************** List **************\n//\nexport class List extends Component {\nconstructor(props){\n  super(props)\n  this.state = {}\n }\n\n componentDidMount(){\n  rest_call('api/location/list',).then(result => this.setState(result))\n }\n\n changeContent = (elem) => this.setState({content:elem})\n deleteList = (id) => (window.confirm('Really delete location?') && rest_call('api/location/delete', {id:id}).then(result => result.deleted && this.setState({data:this.state.data.filter(row => (row.id !== id)),content:null})))\n\n listItem = (row) => [row.id,row.name,<Fragment key={'location_buttons_'+row.id}>\n   <ConfigureButton key={'loc_btn_info_'+row.id} onClick={() => this.changeContent(<Info key={'location_'+row.id} id={row.id} />)} title='Edit location' />\n   <DeleteButton key={'loc_btn_delete_'+row.id} onClick={() => this.deleteList(row.id)} title='Delete location' />\n   </Fragment>\n  ]\n\n render(){\n  return <Fragment key='loc_fragment'>\n   <ContentList key='loc_cl' header='Locations' thead={['ID','Name','']} trows={this.state.data} listItem={this.listItem}>\n    <ReloadButton key='loc_btn_reload' onClick={() => this.componentDidMount() } />\n    <AddButton key='loc_btn_add' onClick={() => this.changeContent(<Info key={'location_new_' + rnd()} id='new' />)} title='Add location' />\n   </ContentList>\n   <ContentData key='loc_cd'>{this.state.content}</ContentData>\n  </Fragment>\n }\n}\n\n// *************** Info ***************\n//\nexport class Info extends Component {\n constructor(props){\n  super(props);\n  this.state = {data:null, found:true};\n }\n\n onChange = (e) => this.setState({data:{...this.state.data, [e.target.name]:e.target.value}});\n\n changeContent = (elem) => this.setState({content:elem})\n\n updateInfo = () => rest_call('api/location/info',{op:'update', ...this.state.data}).then(result => this.setState(result))\n\n componentDidMount(){\n  rest_call('api/location/info',{id:this.props.id}).then(result => this.setState(result))\n }\n\n render() {\n  if (!this.state.found)\n   return <article>Location id: {this.props.id} removed</article>\n  else if (this.state.data)\n   return (\n    <article className='info'>\n     <h1>Location</h1>\n     <InfoColumns key='loc_content'>\n     <TextInput key='name' id='name' value={this.state.data.name} onChange={this.onChange} />\n     </InfoColumns>\n     <SaveButton key='loc_btn_save' onClick={() => this.updateInfo()} title='Save' />\n    </article>\n   );\n  else\n   return <Spinner />\n }\n}\n"],"sourceRoot":""}