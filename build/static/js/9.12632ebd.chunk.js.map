{"version":3,"sources":["console.jsx"],"names":["Manage","changeContent","elem","setState","rest_call","id","this","props","device_id","then","result","context","loadNavigation","key","title","data","onClick","Inventory","type","Info","state","Component","contextType","RimsContext","onChange","e","target","name","value","updateInfo","op","className","label","access_url","port","componentDidMount","content","cnctFunction","intf","parseInt","extra","window","open","close","listItem","row","interface","header","thead","trows","undefined"],"mappings":"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","file":"static/js/9.12632ebd.chunk.js","sourcesContent":["import React, { Fragment, Component } from 'react';\nimport { rest_call } from './infra/Functions.js';\nimport { InfoColumns, Spinner, RimsContext, ContentList, ContentData } from './infra/UI.jsx';\nimport { TextInput } from './infra/Inputs.jsx';\nimport { ReloadButton, SaveButton, TermButton } from './infra/Buttons.jsx';\nimport { NavBar, NavButton, NavInfo } from './infra/Navigation.js';\n\n// ************** Manage **************\n//\nexport class Manage extends Component {\n componentDidMount(){\n  rest_call('api/device/hostname',{id:this.props.device_id}).then(result => {\n   this.context.loadNavigation(<NavBar key='cons_navbar'>\n    <NavInfo key='cons_nav_name' title={result.data} />\n    <NavButton key='cons_nav_inv' title='Inventory' onClick={() => this.changeContent(<Inventory key='cons_inventory' device_id={this.props.device_id} type={this.props.type} />)} />\n    <NavButton key='con_nav_info' title='Info' onClick={() => this.changeContent(<Info key='con_info' device_id={this.props.device_id} type={this.props.type} />)} />\n   </NavBar>)\n  })\n  this.setState(<Inventory key='cons_inventory' device_id={this.props.device_id} type={this.props.type} />);\n }\n\n changeContent = (elem) => this.setState(elem)\n\n render(){\n  return  <Fragment key='manage_base'>{this.state}</Fragment>\n }\n}\nManage.contextType = RimsContext;\n\n// ************** Info **************\n//\nclass Info extends Component{\n constructor(props){\n  super(props)\n  this.state = {}\n }\n\n componentDidMount(){\n  rest_call('api/'+this.props.type+'/info',{device_id:this.props.device_id}).then(result => this.setState(result))\n }\n\n onChange = (e) => this.setState({data:{...this.state.data, [e.target.name]:e.target.value}});\n\n updateInfo = () => rest_call('api/'+this.props.type+'/info',{op:'update', ...this.state.data}).then(result => this.setState(result))\n\n render(){\n  if (this.state.data){\n   return (<div className='flexdiv centered'>\n    <article className='info'>\n     <h1>Console Info ({this.props.type})</h1>\n     <InfoColumns key='ci_info'>\n      <TextInput key='ci_access_url' id='access_url' label='Access URL' value={this.state.data.access_url} onChange={this.onChange} title='URL used as base together with port' />\n      <TextInput key='ci_port' id='port' value={this.state.data.port} onChange={this.onChange} />\n     </InfoColumns>\n     <ReloadButton key='ci_btn_reload' onClick={() => this.componentDidMount() } />\n     <SaveButton key='ci_btn_save' onClick={() => this.updateInfo() } />\n    </article>\n   </div>)\n  } else\n   return <Spinner />\n }\n}\n// ************** Inventory **************\n//\nexport class Inventory extends Component{\n constructor(props){\n  super(props)\n  this.state = {}\n }\n\n componentDidMount(){\n  rest_call('api/' + this.props.type + '/inventory',{device_id:this.props.device_id}).then(result => this.setState(result))\n }\n\n changeContent = (elem) => this.setState({content:elem})\n\n cnctFunction = (intf) => {\n  const port = parseInt(intf) + parseInt(this.state.extra.port);\n  const termWin = window.open(`${this.state.extra.access_url}:${port}`,'_blank');\n  termWin.close();\n }\n\n listItem = (row) => [row.interface,row.name,<TermButton key={'con_inv_btn_cnct_' + row.interface} onClick={() => this.cnctFunction(row.interface)} title='Connect' />]\n\n render(){\n  if (this.state.data){\n   return <Fragment key='con_fragment'>\n    <ContentList key='con_cl' header='Inventory' thead={['Port','Device','']} trows={this.state.data} listItem={this.listItem}>\n     <ReloadButton key='con_btn_reload' onClick={() => {this.setState({data:undefined}); this.componentDidMount()} } />\n    </ContentList>\n    <ContentData key='con_cd'>{this.state.content}</ContentData>\n   </Fragment>\n  } else\n   return <Spinner />\n }\n}\n\n"],"sourceRoot":""}