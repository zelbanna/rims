{"version":3,"sources":["hypervisor.jsx"],"names":["Main","props","listItem","row","up","state","hostname","type_name","key","id","type_functions","onClick","context","changeMain","Manage","device_id","type","url","length","window","open","changeContent","elem","setState","content","rest_call","field","search","extra","sort","then","result","header","thead","trows","this","data","Sync","Component","contextType","RimsContext","host_id","vm","device_uuid","config","entries","forEach","hasOwnProperty","entry","push","loadNavigation","title","Inventory","sortList","method","a","b","name","localeCompare","Operation","vm_id","text","highlight","undefined","componentDidMount","operation","op","wait","snapshot","status","on","off","Info","changeSelf","Snapshots","onChange","e","target","value","changeImport","intf","lib","class","mac","interface_id","update","className","columns","label","device_name","snmp_id","Object","interfaces","map","port","interfaceButton","updateInfo","syncDatabase","JSON","stringify","deleteList","confirm","deleted","highest","filter","parseInt","desc","created"],"mappings":"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","file":"static/js/11.444d87c5.chunk.js","sourcesContent":["import React, { Fragment, Component } from 'react'\nimport { rest_call } from './infra/Functions.js';\nimport { Result, Spinner, StateMap, RimsContext, InfoColumns, ContentList, ContentData, ContentReport } from './infra/UI.jsx';\nimport { AddButton, DeleteButton, GoButton, HeaderButton, InfoButton, ItemsButton, LogButton, PauseButton, RevertButton, ReloadButton, SaveButton, ShutdownButton, SnapshotButton, StartButton, StopButton, SyncButton, UiButton } from './infra/Buttons.jsx';\nimport { StateLine, TextInput, TextLine } from './infra/Inputs.jsx';\nimport { NavBar, NavInfo, NavButton } from './infra/Navigation.jsx';\n\nimport { Info as DeviceInfo, Logs as DeviceLogs } from './device.jsx';\n\n// ************** Main **************\n//\nexport class Main extends Component {\n constructor(props){\n  super(props)\n  this.state = {}\n }\n\n componentDidMount(){\n  rest_call('api/device/list',{field:'base',search:'hypervisor',extra:['type','functions','url'],sort:'hostname'}).then(result => this.setState(result))\n }\n\n listItem = (row) => {\n  const up =  (row.state === 'up');\n  return [row.hostname,row.type_name,<StateMap state={row.state} />,<Fragment key={'hyp_buttons_'+row.id}>\n   {up && row.type_functions === 'manage' && <InfoButton key={'hyp_btn_info_'+row.id} onClick={() => this.context.changeMain(<Manage key={'hypervisor_manage_'+row.id} device_id={row.id} type={row.type_name} />)} />}\n   {up && row.url && row.url.length > 0 && <UiButton key={'hyp_ btn_ui_'+row.id} onClick={() => window.open(row.url,'_blank') } />}\n   </Fragment>]\n }\n\n changeContent = (elem) => this.setState({content:elem})\n\n render(){\n  return <Fragment key='hyp_fragment'>\n   <ContentList key='hyp_cl' header='Hypervisor' thead={['Hostname','Type','','']} trows={this.state.data} listItem={this.listItem}>\n    <SyncButton key='hyp_btn_sync' onClick={() => this.changeContent(<Sync />) } />\n   </ContentList>\n   <ContentData key='hyp_cd'>{this.state.content}</ContentData>\n  </Fragment>\n }\n}\nMain.contextType = RimsContext;\n\n// ************** Sync **************\n//\nclass Sync extends Component{\n constructor(props){\n  super(props)\n  this.state = {}\n }\n\n componentDidMount(){\n  rest_call('api/device/vm_mapping').then(result => {\n    let entries = [];\n    ['existing','inventory','discovered','database'].forEach(type => {\n     if (result.hasOwnProperty(type))\n      result[type].forEach(entry => { entry.type = type; entries.push(entry); })\n    })\n    this.setState({data:entries})\n   })\n }\n\n listItem = (row) => [row.type,row.host_id,row.device_id,row.vm,row.device_uuid,row.config]\n\n render(){\n  return <ContentReport key='hyp_cr' header='VM Mapping' thead={['Status','Host','Device','VM Name','Device UUID','Config']} trows={this.state.data} listItem={this.listItem} />\n }\n}\n\n// ************** Manage **************\n//\nexport class Manage extends Component {\n constructor(props){\n  super(props)\n  this.state = {}\n }\n\n componentDidMount(){\n  rest_call('api/device/management',{id:this.props.device_id}).then(result => {\n   this.context.loadNavigation(<NavBar key='hypervisor_navbar'>\n    <NavButton key='hyp_nav_inv' title='Inventory' onClick={() => this.changeContent(<Inventory key='hypervisor_inventory' device_id={this.props.device_id} type={this.props.type} />)} />\n    <NavButton key='hyp_nav_logs' title='Logs' onClick={() => this.changeContent(<DeviceLogs key='device_logs' id={this.props.device_id} />)} />\n    {result.data.url && (result.data.url.length > 0) && <NavButton key='hyp_nav_ui' title='UI' onClick={() => window.open(result.data.url,'_blank')} />}\n    <NavInfo key='hyp_nav_name' title={result.data.hostname} />\n   </NavBar>);\n   this.setState({...result,content:<Inventory key='hypervisor_inventory' device_id={this.props.device_id} type={this.props.type} />});\n  })\n }\n\n changeContent = (elem) => this.setState({content:elem})\n\n render(){\n  return  <Fragment key='manage_base'>{this.state.content}</Fragment>\n }\n}\nManage.contextType = RimsContext;\n\n// ************** Inventory **************\n//\nexport class Inventory extends Component{\n constructor(props){\n  super(props)\n  this.state = {sort:'name'}\n }\n\n componentDidMount(){\n  rest_call('api/' + this.props.type + '/inventory',{device_id:this.props.device_id, sort: this.state.sort}).then(result => this.setState(result))\n }\n\n changeContent = (elem) => this.setState({content:elem})\n\n sortList = (method) => {\n  if (method === 'name')\n   this.state.data.sort((a,b) => a.name.localeCompare(b.name));\n  else\n   this.state.data.sort((a,b) => (a.id - b.id))\n  this.setState({sort:method})\n }\n\n listItem = (row) => [row.id,row.name,<Operation key={'hl_op_'+row.id} vm_id={row.id} device_id={this.props.device_id} type={this.props.type} changeContent={this.changeContent} state={row.state} />]\n\n render(){\n  if (this.state.data){\n   const thead = [<HeaderButton key='hl_btn_id' text='ID' highlight={(this.state.sort === 'id')} onClick={() => this.sortList('id')} />,<HeaderButton key='hl_btn_vm' text='VM' highlight={(this.state.sort === 'name')} onClick={() => this.sortList('name')} />,'Operations'];\n   return <Fragment key='hl_fragment'>\n    <ContentList key='hl_cl' header='Inventory' thead={thead} trows={this.state.data} listItem={this.listItem}>\n     <ReloadButton key='hl_btn_reload' onClick={() => {this.setState({data:undefined}); this.componentDidMount()} } />\n     <LogButton key='hl_btn_logs' onClick={() => this.changeContent(<DeviceLogs key='device_logs' id={this.props.device_id} />)} title='Device logs' />\n    </ContentList>\n    <ContentData key='hl_cd'>{this.state.content}</ContentData>\n   </Fragment>\n  } else\n   return <Spinner />\n }\n}\n\n// *************** Operation ***************\n//\nclass Operation extends Component{\n constructor(props){\n  super(props)\n  this.state = {state:this.props.state, status:'',wait:null};\n }\n\n operation = (op) => {\n  this.setState({wait:<Spinner />})\n  rest_call('api/'+this.props.type+'/vm_op',{device_id:this.props.device_id, vm_id:this.props.vm_id, op:op}).then(result => this.setState({...result, wait:null}));\n }\n\n snapshot = (op) => {\n  this.setState({wait:<Spinner />})\n  rest_call('api/'+this.props.type+'/vm_snapshot',{device_id:this.props.device_id, vm_id:this.props.vm_id, op:op}).then(result => this.setState({...result, wait:null}));\n }\n\n render(){\n   const on = (this.state.state === 'on');\n   const off = (this.state.state === 'off');\n   return <Fragment key={'hyp_frag_'+this.props.vm_id}>\n    <InfoButton key={'hyp_btn_info_'+this.props.vm_id} onClick={() => this.props.changeContent(<Info key={'hypervisor_info_'+this.props.vm_id} device_id={this.props.device_id} vm_id={this.props.vm_id} type={this.props.type} changeSelf={this.props.changeContent} />)} title='VM info' />\n    {(off || this.state.state === 'suspended')  && <StartButton key={'hyp_btn_start_'+this.props.vm_id} onClick={() => this.operation('on')} title={this.state.status} />}\n    {on && <StopButton key={'hyp_btn_stop_'+this.props.vm_id} onClick={() => this.operation('shutdown')} title={this.state.status} />}\n    {on && <ReloadButton key={'hyp_btn_reload_'+this.props.vm_id} onClick={() => this.operation('reboot')} title={this.state.status} />}\n    {on && <PauseButton key={'hyp_btn_suspend_'+this.props.vm_id} onClick={() => this.operation('suspend')} title={this.state.status} />}\n    {(on || this.state.state === 'suspended') && <ShutdownButton key={'hyp_btn_shutdown_'+this.props.vm_id} onClick={() => this.operation('off')} title={this.state.status} />}\n    {off && <SnapshotButton key={'hyp_btn_snapshot_'+this.props.vm_id} onClick={() => this.snapshot('create')} title='Take snapshot' />}\n    {off && <ItemsButton key={'hyp_btn_snapshots_'+this.props.vm_id} onClick={() => this.props.changeContent(<Snapshots key={'hypervisor_snapshots_'+this.props.vm_id} device_id={this.props.device_id} vm_id={this.props.vm_id} type={this.props.type} />)} title='Snapshot info' />}\n    {this.state.wait}\n   </Fragment>\n }\n}\n\n// ************ Info *************\n//\nclass Info extends Component{\n constructor(props){\n  super(props)\n  this.state = {}\n }\n\n onChange = (e) => this.setState({data:{...this.state.data, [e.target.name]:e.target.value}});\n\n changeSelf = (elem) => this.props.changeSelf(elem);\n\n changeContent = (elem) => this.setState({content:elem});\n\n changeImport = (intf) => import('./interface.jsx').then(lib => this.setState({content:<lib.Info key={'interface_info_'+intf[0]} device_id={this.state.data.device_id} class='virtual' mac={intf[1].mac} name={intf[1].name} interface_id={intf[1].interface_id} changeSelf={this.changeContent} />}))\n\n componentDidMount(){\n  rest_call('api/'+this.props.type+'/vm_info',{device_id:this.props.device_id, vm_id:this.props.vm_id}).then(result => this.setState(result))\n }\n\n syncDatabase(){\n  rest_call('api/'+this.props.type+'/vm_info',{device_id:this.props.device_id, vm_id:this.props.vm_id, op:'update'}).then(result => this.setState(result))\n }\n\n updateInfo(){\n  rest_call('api/'+this.props.type+'/vm_map',{device_uuid:this.state.data.device_uuid, device_id:this.state.data.device_id, host_id:this.props.device_id, op:'update'}).then(result => this.setState({update:result.update}))\n }\n\n interfaceButton(intf){\n  if(this.state.data.device_id){\n   if (intf[1].interface_id)\n    return <InfoButton key={'hyp_if_btn_'+intf[0]} onClick={() => this.changeImport([intf[0],{interface_id:intf[1].interface_id}])} />\n   else\n    return <AddButton key={'hyp_if_btn_'+intf[0]} onClick={() => this.changeImport({...intf,interface_id:'new'})} />\n  } else\n   return <div />\n }\n\n render(){\n  if (this.state.data) {\n   const data = this.state.data;\n   return <Fragment key='hyp_frag'>\n    <article className='info'>\n     <h1>VM info</h1>\n     <InfoColumns key='hyp_ic' columns={3}>\n      <TextLine key='hyp_name' id='name' text={data.name} /><div />\n      <TextInput key='hyp_device_id' id='device_id' label='Device ID' value={data.device_id} onChange={this.onChange} /><div />\n      <TextLine key='hyp_device_name' id='device' label='Device Name' text={data.device_name} /><div />\n      <TextLine key='hyp_snmp' id='snmp_id' label='SNMP id' text={data.snmp_id} /><div />\n      <TextLine key='hyp_uuid' id='uuid' label='UUID' text={data.device_uuid} /><div />\n      <StateLine key='hyp_state' id='state' state={data.state} /><div />\n      <TextLine key='hyp_config' id='config' text={data.config} /><div />\n      {Object.entries(this.state.interfaces).map(row => <Fragment key={'hyp_intf_frag_'+row[0]}><TextLine key={'hyp_intf_'+row[0]} id={'interface_'+row[0]} label='Interface' text={`${row[1].name} - ${row[1].mac} - ${row[1].port}`} />{this.interfaceButton(row)}</Fragment>)}\n     </InfoColumns>\n     <SaveButton key='hyp_btn_save' onClick={() => this.updateInfo()} title='Save mapping' />\n     <SyncButton key='hyp_btn_sync' onClick={() => this.syncDatabase()} title='Resync database with VM info' />\n     {data.device_id && <GoButton key='hyp_btn_device_vm_info' onClick={() => this.changeSelf(<DeviceInfo key='device_info' id={data.device_id} changeSelf={this.props.changeSelf} />)} title='VM device info' />}\n     <Result key='hyp_res' result={JSON.stringify(this.state.update)} />\n    </article>\n    <NavBar />\n    {this.state.content}\n   </Fragment>\n  } else\n   return <Spinner />\n }\n}\n\n// ************ Snapshots *************\n//\nclass Snapshots extends Component{\n constructor(props){\n  super(props)\n  this.state = {}\n }\n\n componentDidMount(){\n  this.snapshot('list',undefined);\n }\n\n snapshot = (op,id) => {\n  this.setState({wait:<Spinner />});\n  rest_call('api/'+this.props.type+'/vm_snapshot',{device_id:this.props.device_id, vm_id:this.props.vm_id, op:op, snapshot:id}).then(result => this.setState({...result, wait:null}));\n }\n\n deleteList = (id) => {\n  if (window.confirm('Really delete snapshot?')){\n   this.setState({wait:<Spinner />})\n   rest_call('api/'+this.props.type+'/vm_snapshot',{device_id:this.props.device_id, vm_id:this.props.vm_id, op:'remove', snapshot:id}).then(result => {\n    if(result.deleted){\n     let highest = 0;\n     const data = this.state.data.filter(row => (row.id !== id));\n     data.forEach(row => { highest = (highest < parseInt(row.id)) ? parseInt(row.id) : highest });\n     this.setState({data:data,highest:highest,wait:null});\n    }\n   })\n  }\n }\n\n listItem = (row) => [row.name,row.id,row.desc,row.created,row.state,<Fragment key={'hyp_snap_buttons_'+row.id}>\n  <RevertButton key={'hs_revert_'+row.id} onClick={() => this.snapshot('revert',row.id)} title='Revert to snapshot' />\n  <DeleteButton key={'hs_delete_'+row.id} onClick={() => this.deleteList(row.id)} title='Delete snapshot' />\n </Fragment>]\n\n render(){\n  return <ContentReport key='hyp_snapshot_cr' header={`Snapshot (${this.props.vm_id}) Highest ID:${this.state.highest}`} thead={['Name','ID','Description','Created','State','']} trows={this.state.data} listItem={this.listItem}>\n   <ReloadButton key='hs_reload' onClick={() => this.snapshot('list',undefined)} title='Reload list' />\n   {this.state.wait}\n  </ContentReport>\n }\n}\n"],"sourceRoot":""}